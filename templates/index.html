<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Safe|SitePack</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicons -->
    <link href="/static/img/favicon.png" rel="icon">
    <link href="/static/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Raleway:300,400,500,700,800|Montserrat:300,400,700"
          rel="stylesheet">

    <!-- Bootstrap CSS File -->
    {#        <link href="/static/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">#}
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    {#    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">#}

    <!-- Libraries CSS Files -->
    <link href="/static/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="/static/lib/animate/animate.min.css" rel="stylesheet">
    <link href="/static/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link href="/static/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="/static/lib/magnific-popup/magnific-popup.css" rel="stylesheet">
    <link href="/static/lib/ionicons/css/ionicons.min.css" rel="stylesheet">

    <!-- Main Stylesheet File -->
    <link href="/static/css/style.css" rel="stylesheet">

    <!-- =======================================================
      Theme Name: Reveal
      Theme URL: https://bootstrapmade.com/reveal-bootstrap-corporate-template/
      Author: BootstrapMade.com
      License: https://bootstrapmade.com/license/
    ======================================================= -->
</head>

<body id="body">

<!--==========================
  Top Bar
============================-->
<!-- <section id="topbar" class="d-none d-lg-block">
  <div class="container clearfix">
    <div class="contact-info float-left">
      <i class="fa fa-envelope-o"></i> <a href="mailto:contact@example.com">contact@example.com</a>
      <i class="fa fa-phone"></i> +1 5589 55488 55
    </div>
    <div class="social-links float-right">
      <a href="#" class="twitter"><i class="fa fa-twitter"></i></a>
      <a href="#" class="facebook"><i class="fa fa-facebook"></i></a>
      <a href="#" class="instagram"><i class="fa fa-instagram"></i></a>
      <a href="#" class="google-plus"><i class="fa fa-google-plus"></i></a>
      <a href="#" class="linkedin"><i class="fa fa-linkedin"></i></a>
    </div>
  </div>
</section> -->

<!--==========================
  Header
============================-->
<div class="alert alert-danger  xw_alert" role="alert" style="text-align: center">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span>
    </button>
    <strong>注意：</strong> 删除分组时会将分类下网址全部删除，若<strong>强制删除</strong>请【双击 ‘ 减号 ’】。
</div>

{#<div class="alert alert-success  xw_alert_success" role="alert" style="text-align: center">#}
{#    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span>#}
{#    </button>#}
{#    <strong>添加成功！</strong>#}
{#</div>#}

<header id="header">
    <div class="container">

        <div id="logo" class="pull-left">
            <h1><a href="#body" class="scrollto">Safe|<span>SitePack</span></a></h1>
            <!-- Uncomment below if you prefer to use an image logo -->
            <!-- <a href="#body"><img src="img/logo.png" alt="" title="" /></a>-->
        </div>

        <nav id="nav-menu-container">
            <ul class="nav-menu">
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav><!-- #nav-menu-container -->
    </div>
</header><!-- #header -->

<!--==========================
  Intro Section
============================-->
<section id="intro">

    <div class="intro-content">
        <h2>Making <span>your favourite website</span> here<br></h2>
        <div>
            <a id="is_delete_1" href="#services" class="btn-get-started scrollto">Get Started</a>

        </div>
    </div>

    <div id="intro-carousel" class="owl-carousel">
        <div class="item" style="background-image: url('/static/img/intro-carousel/1.jpg');"></div>
        <div class="item" style="background-image: url('/static/img/intro-carousel/2.jpg');"></div>
        <div class="item" style="background-image: url('/static/img/intro-carousel/3.jpg');"></div>
        <div class="item" style="background-image: url('/static/img/intro-carousel/4.jpg');"></div>
        <div class="item" style="background-image: url('/static/img/intro-carousel/5.jpg');"></div>
    </div>

</section><!-- #intro -->
{#<label for='classify'>分组名：</label>#}

<main id="main">

    {% for classify in query_set %}
        <section id="services">
            <div class="container">
                <div class="section-header">
                    <h2>{{ classify.class_name }}&nbsp;
                        <div class="btn-group hidden-xs" role="group" aria-label="">
                            <button type="button" class="btn btn-success" title="添加分组"
                                    data-container="body" data-toggle="popover" data-placement="auto right"
                                    data-html="true" data-trigger="click" data-content="
                                    <form action='../addClassify/' method='get'>
                                        <div class='input-group'>
                                          <span class='input-group-addon input-success' id='basic-addon1'>组名：</span>
                                          <input type='text' class='form-control' name='classify' placeholder='请输入' aria-describedby='basic-addon1'>
                                        </div>
                                        <div class='input-group'>
                                          <span class='input-group-addon success' id='basic-addon1'>介绍：</span>
                                          <input type='text' class='form-control' name='tag' placeholder='请输入' aria-describedby='basic-addon1' value='暂无介绍'>
                                        </div>
                                        <button class='add_classify btn btn-success'>提交</button>
                                    </form>

                                    ">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </button>

                            <button id="sub_classify" type="button" class="btn btn-warning"
                                    ondblclick=subClassify({{ classify.id }})>
                                <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
                            </button>

                            <button type="button" class="btn btn-primary" title="修改分组"
                                    data-container="body" data-toggle="popover" data-placement="auto right"
                                    data-html="true" data-trigger="click" data-content="
                                    <form action='../updateClassify/' method='get'>
                                        <div class='input-group'>
                                          <span class='input-group-addon primary' id='basic-addon1'>原组名：</span>
                                          <input type='text' class='form-control' name='old_classify' readonly aria-describedby='basic-addon1' value='{{ classify.class_name }}'>
                                        </div>
                                        <div class='hide'>
                                          <input type='text' class='form-control' name='id' value='{{ classify.id }}'>
                                        </div>
                                        <div class='input-group'>
                                          <span class='input-group-addon primary' id='basic-addon1'>新组名：</span>
                                          <input type='text' class='form-control' name='new_classify' placeholder='请输入' aria-describedby='basic-addon1' value='{{ classify.class_name }}'>
                                        </div>
                                        <div class='input-group'>
                                          <span class='input-group-addon primary' id='basic-addon1'>新介绍：</span>
                                          <input type='text' class='form-control' name='tag' placeholder='请输入' aria-describedby='basic-addon1' value='{{ classify.tag }}'>
                                        </div>
                                        <button class='add_classify btn btn-success'>提交</button>
                                    </form>
                                    ">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                            </button>
                        </div>

                    </h2>

                    <p>{{ classify.tag }}</p>
                </div>

                <div class="row">
                    {% for data in site_query_set %}
                        {% if data.classify_id == classify.id %}
                            <div class="col-lg-4">
                                <div class="box wow">
                                    <div class="del-webSite">
                                        <sapn onclick=delWebSite({{ data.id }})>×</sapn>
                                    </div>
                                    <div class="icon" data-toggle="modal" data-target="#myModal2"
                                         onclick=generateQrcode({{ data.id }})>
                                        <i class="fa fa-qrcode"></i>
                                    </div>

                                    <h4 class="title"><a href="{{ data.site_addr }}" target="_blank"
                                                         title="{{ data.title }}">{{ data.title }}</a></h4>
                                    <p class="description">Voluptatum deleniti atque corrupti quos dolores et quas
                                        molestias
                                        excepturi sint occaecati cupiditate non provident etiro rabeta lingo.</p>
                                </div>
                            </div>
                        {% endif %}

                    {% endfor %}

                    <div class="col-lg-4">
                        <div id="addWebsite" class="box wow add" data-toggle="modal" data-target="#myModal"
                             onclick=addWebsite({{ classify.id }},"{{ classify.class_name }}")>
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    {% endfor %}
    {#========================================请先添加分组===========================================#}

    {% if not query_set.exists %}
        <section id="services">
            <div class="container">
                <div class="section-header">
                    <h2>请先添加分组
                        <div class="btn-group hidden-xs" role="group" aria-label="">
                            <button type="button" class="btn btn-success" title="添加分组"
                                    data-container="body" data-toggle="popover" data-placement="auto right"
                                    data-html="true" data-trigger="click" data-content="
                                        <form action='../addClassify/' method='get'>
                                            <div class='input-group'>
                                              <span class='input-group-addon input-success' id='basic-addon1'>组名：</span>
                                              <input type='text' class='form-control' name='classify' placeholder='请输入' aria-describedby='basic-addon1'>
                                            </div>
                                            <div class='input-group'>
                                              <span class='input-group-addon success' id='basic-addon1'>介绍：</span>
                                              <input type='text' class='form-control' name='tag' placeholder='' aria-describedby='basic-addon1' value='暂无介绍'>
                                            </div>
                                            <button class='add_classify btn btn-success'>提交</button>
                                        </form>

                                    ">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                            </button>

                        </div>

                    </h2>

                    <p>请将您的分组加以介绍吧~</p>
                </div>

                <div class="row">
                    <div class="col-lg-4">
                        <div id="newAdd" class="box wow add">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    {% endif %}
    {#    <section id="services">#}
    {#        <div class="container">#}
    {#            <div class="section-header">#}
    {#                <h2>机器学习网站 &nbsp;<button>＋</button>#}
    {#                </h2>#}
    {##}
    {#                <p>Sed tamen tempor magna labore dolore dolor sint tempor duis magna elit veniam aliqua esse amet veniam#}
    {#                    enim export quid quid veniam aliqua eram noster malis nulla duis fugiat culpa esse aute nulla ipsum#}
    {#                    velit export irure minim illum fore</p>#}
    {#            </div>#}
    {##}
    {#            <div class="row">#}
    {##}
    {#                <div class="col-lg-4">#}
    {#                    <div class="box wow">#}
    {#                        <div class="icon"><i class="fa fa-bar-chart"></i></div>#}
    {#                        <h4 class="title"><a href="">Lorem Ipsum</a></h4>#}
    {#                        <p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestias#}
    {#                            excepturi sint occaecati cupiditate non provident etiro rabeta lingo.</p>#}
    {#                    </div>#}
    {#                </div>#}
    {##}
    {#                <div class="col-lg-4">#}
    {#                    <div class="box wow">#}
    {#                        <div class="icon"><i class="fa fa-picture-o"></i></div>#}
    {#                        <h4 class="title"><a href="">Dolor Sitema</a></h4>#}
    {#                        <p class="description">Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip#}
    {#                            ex ea commodo consequat tarad limino ata nodera clas.</p>#}
    {#                    </div>#}
    {#                </div>#}
    {##}
    {#                <div class="col-lg-4">#}
    {#                    <div class="box wow" data-wow-delay="0.2s">#}
    {#                        <div class="icon"><i class="fa fa-shopping-bag"></i></div>#}
    {#                        <h4 class="title"><a href="">Sed ut perspiciatis</a></h4>#}
    {#                        <p class="description">Duis aute irure dolor in reprehenderit in voluptate velit esse cillum#}
    {#                            dolore eu fugiat nulla pariatur trinige zareta lobur trade.</p>#}
    {#                    </div>#}
    {#                </div>#}
    {##}
    {#                <div class="col-lg-4">#}
    {#                    <div class="box wow" data-wow-delay="0.2s">#}
    {#                        <div class="icon"><i class="fa fa-map"></i></div>#}
    {#                        <h4 class="title"><a href="">Magni Dolores</a></h4>#}
    {#                        <p class="description">Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia#}
    {#                            deserunt mollit anim id est laborum rideta zanox satirente madera</p>#}
    {#                    </div>#}
    {#                </div>#}
    {##}
    {#            </div>#}
    {##}
    {#        </div>#}
    {#    </section><!-- #services -->#}


    <section id="contact" class="wow fadeInUp">
        <div class="container">
            <div class="section-header">
                <h2>Contact Manager</h2>
                <p>Sed tamen tempor magna labore dolore dolor sint tempor duis magna elit veniam aliqua esse amet veniam
                    enim export quid quid veniam aliqua eram noster malis nulla duis fugiat culpa esse aute nulla ipsum
                    velit export irure minim illum fore</p>
            </div>

            <div class="row contact-info">

                <div class="col-md-6">
                    <div class="contact-phone">
                        <i class="ion-ios-telephone-outline"></i>
                        <h3>Phone Number</h3>
                        <p><a href="tel:+155895548855">+153 8364 6168</a></p>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="contact-email">
                        <i class="ion-ios-email-outline"></i>
                        <h3>Email</h3>
                        <p><a href="mailto:info@example.com">809341512@qq.com</a></p>
                    </div>
                </div>

            </div>
        </div>

        {#        <div id="google-map" data-latitude="40.713732" data-longitude="-74.0092704"></div>#}

        <div class="container">
            <div class="form">
                <div id="sendmessage">Your message has been sent. Thank you!</div>
                <div id="errormessage"></div>
                <form action="" method="post" role="form" class="contactForm">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <input type="text" name="name" class="form-control" id="name" placeholder="Your Name"
                                   data-rule="minlen:4" data-msg="Please enter at least 4 chars"/>
                            <div class="validation"></div>
                        </div>
                        <div class="form-group col-md-6">
                            <input type="email" class="form-control" name="email" id="email" placeholder="Your Email"
                                   data-rule="email" data-msg="Please enter a valid email"/>
                            <div class="validation"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject"
                               data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject"/>
                        <div class="validation"></div>
                    </div>
                    <div class="form-group">
                        <textarea class="form-control" name="message" rows="5" data-rule="required"
                                  data-msg="Please write something for us" placeholder="Message"></textarea>
                        <div class="validation"></div>
                    </div>
                    <div class="text-center">
                        <button type="submit">Send Message</button>
                    </div>
                </form>
            </div>

        </div>
    </section><!-- #contact -->

</main>
{#=======================================模态框================================================#}
<div class="modal fade addWebsite " id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog xw-modal">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"
                        aria-hidden="true">×
                </button>
                <h4 id="modal-title" class="modal-title" id="myModalLabel">
                    正在添加网址->
                </h4>
            </div>
            <div class="modal-body">
                <form action='../addClassify/' method='get'>
                    <div class='input-group '>
                        <span class='input-group-addon input-success' id='basic-addon1'>标题：</span>
                        <input id="webTitle" type='text' class='form-control' name='' placeholder='请输入标题'
                               aria-describedby='basic-addon1'>
                    </div>
                    <div class='input-group xw-top'>
                        <span class='input-group-addon success' id='basic-addon1'>网址：</span>
                        <input id="webSite" type='text' class='form-control' name='' placeholder='请出入网址'
                               aria-describedby='basic-addon1' value=''>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>
                <button id="btn-addWebsite" type="button" class="btn btn-primary" data-dismiss="modal">
                    添加
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

{#=======================================模态框2================================================#}
<div class="modal fade  " id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel2"
     aria-hidden="true">
    <div class="modal-dialog xw-modal2">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"
                        aria-hidden="true">×
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    二维码
                </h4>
            </div>
            <div class="modal-body">
                <form action='../addClassify/' method='get'>
                    <div class='QRcode'>
                        <img id="QRcode" src="/static/img/Jason_Xue/wite.gif" alt="">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="closeQrcode" type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

{#=======================================footer================================================#}
<footer id="footer">
    <div class="container">
        <div class="copyright">
            &copy; Copyright <strong>Safe|webpack</strong>. Thanks to the author <strong>JasonXue</strong>.
        </div>

    </div>
</footer><!-- #footer -->

<a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

<!-- JavaScript Libraries -->
<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
{#<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>#}
<script src="/static/lib/easing/easing.min.js"></script>
<script src="/static/lib/superfish/hoverIntent.js"></script>
<script src="/static/lib/superfish/superfish.min.js"></script>
<script src="/static/lib/wow/wow.min.js"></script>
<script src="/static/lib/owlcarousel/owl.carousel.min.js"></script>
<script src="/static/lib/magnific-popup/magnific-popup.min.js"></script>
<script src="/static/lib/sticky/sticky.js"></script>
{#<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8HeI8o-c1NppZA-92oYlXakhDPYR7XMY"></script>#}
<!-- Contact Form JavaScript File -->
<script src="/static/contactform/contactform.js"></script>

<!-- Template Main Javascript File -->
<script src="/static/js/main.js"></script>

<script>
    var addWebSiteId;
    var TimeFn = null;

    $(function () {
        //隐藏alert
        $('.xw_alert').hide()
        {#$('.xw_alert_success').hide()#}

        {#alert(0)#}
        $("[data-toggle='popover']").popover();

    });

    $('#sub_classify').click(function () {

        clearTimeout(TimeFn);
        //执行延时
        TimeFn = setTimeout(function () {
            //do function在此处写单击事件要执行的代码
            $('.xw_alert').show(500)
            setTimeout(function () {
                $('.xw_alert').hide(1000)
            }, 8000)
        }, 300);

    })

    function subClassify(classify) {
        clearTimeout(TimeFn);
        $.ajax({
            url: '../subClassify/',
            type: 'get',
            data: {
                'id': classify,
            },
            success: function (data) {
                alert(data)
                window.location.reload()
            }
        })
    }

    //$('body').on('click', '#addWebsite', function(){
    //  alert(0)
    //})
    function addWebsite(id, class_name) {
        {#alert(class_name + id)#}
        $('#modal-title').html("正在添加网站->[" + class_name + "]")
        addWebSiteId = id
    }

    $('#btn-addWebsite').click(function () {
        var webTitle = $('#webTitle').val()
        var webSite = $('#webSite').val()

        $.ajax({
            url: '../addWebsite/',
            type: 'get',
            data: {
                'id': addWebSiteId,
                'webTitle': webTitle,
                'webSite': webSite
            },
            success: function (data) {

                window.location.reload()

            }
        })
    })

    $('#newAdd').click(function () {
        alert('请先添加分组')
    })

    function delWebSite(id) {
        $.ajax({
            url: '../delWebsite/',
            type: 'get',
            data: {
                'id': id,
            },
            success: function (data) {

                window.location.reload()

            }
        })
    }

    function generateQrcode(id) {
        $.ajax({
            url: '../generateQrcode/',
            type: 'get',
            data: {
                'id': id,
            },
            success: function (data) {

                if (data == 0) {
                    alert('二维码生成失败！')
                } else {
                    var BASE_DIR = "/static/img/Jason_Xue/Qrcode/"
                    var img_addr = BASE_DIR + data
                    $('#QRcode').attr("src", img_addr)
                    {#alert(img_addr)#}
                }

            }
        })
    }

    $("#is_delete_1").click(function () {
        $.ajax({
            url: '../is_delete_1/',
            type: 'get',
            data:{
                "data":1,
            },
            success: function () {
                window.location.reload()
            }
        })
    })

    $("#is_delete_1").dblclick(function () {
        $.ajax({
            url: '../is_delete_1/',
            type: 'get',
            data:{
                "data":0,
            },
            success: function () {
                window.location.reload()
            }
        })
    })


</script>

</body>
</html>
